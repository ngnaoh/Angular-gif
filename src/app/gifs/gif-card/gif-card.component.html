<div
  class="max-w-sm bg-white border border-gray-200 rounded-lg shadow h-min dark:bg-gray-800 dark:border-gray-700 relative"
  (mouseover)="hover()"
  (mouseleave)="leave()"
>
  <div
    *ngIf="onHover"
    class="absolute top-0 right-0 hover:bg-white/10 p-2 rounded-sm"
    (click)="copyToClipboard()"
  >
    <svg
      *ngIf="!copyStatus"
      class="w-6 h-6 text-gray-700 dark:text-gray-400 cursor-pointer"
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <path
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 4h3c.6 0 1 .4 1 1v15c0 .6-.4 1-1 1H6a1 1 0 0 1-1-1V5c0-.6.4-1 1-1h3m0 3h6m-6 5h6m-6 4h6M10 3v4h4V3h-4Z"
      />
    </svg>
    <svg
      *ngIf="copyStatus"
      class="w-6 h-6 text-gray-700 dark:text-gray-400 cursor-pointer"
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <path
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 4h3c.6 0 1 .4 1 1v15c0 .6-.4 1-1 1H6a1 1 0 0 1-1-1V5c0-.6.4-1 1-1h3m0 3h6m-6 7 2 2 4-4m-5-9v4h4V3h-4Z"
      />
    </svg>
  </div>
  <div (click)="toggle(gif.id)">
    <img
      class="rounded-t-lg w-full"
      [src]="gif.images.downsized_medium.url"
      [alt]="gif.title"
    />
  </div>
  <div *ngIf="isOpen" class="p-3 transition-all">
    <div class="flex items-end gap-3 mb-3">
      <img
        *ngIf="gif.user?.avatar_url"
        class="w-7 h-w-7 rounded-full"
        [src]="gif.user?.avatar_url"
        alt="avatar"
      />
      <h5 class="font-bold tracking-tight text-gray-900 dark:text-white">
        {{ gif.user?.display_name || gif.title }}
      </h5>
      <p
        *ngIf="viewCount"
        class="flex ml-auto text-gray-700 dark:text-gray-400"
      >
        <svg
          class="w-6 h-6 text-gray-700 dark:text-gray-400"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <path
            stroke="currentColor"
            stroke-width="2"
            d="M21 12c0 1.2-4 6-9 6s-9-4.8-9-6c0-1.2 4-6 9-6s9 4.8 9 6Z"
          />
          <path
            stroke="currentColor"
            stroke-width="2"
            d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
          />
        </svg>
        {{ viewCount }}
      </p>
    </div>
    <p class="font-normal text-gray-700 dark:text-gray-400 uppercase">
      Rating: {{ gif.rating }}
    </p>
    <p class="font-normal text-gray-700 dark:text-gray-400">
      Uploaded: {{ gif.import_datetime | date }}
    </p>
    <p class="font-normal text-gray-700 dark:text-gray-400">
      Frames: {{ gif.images.original.frames }}
    </p>
    <p class="font-normal text-gray-700 dark:text-gray-400">
      Size: {{ +gif.images.original.size | filesize }}
    </p>
  </div>
</div>
